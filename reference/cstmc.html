<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Query for data from the CSTMC (Canadian Science &amp; Technology
Museum Corporation) — cstmc • musemeta</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Query for data from the CSTMC (Canadian Science &amp; Technology
Museum Corporation) — cstmc" />
<meta property="og:description" content="Query for data from the CSTMC (Canadian Science &amp;amp; Technology
Museum Corporation)" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">musemeta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/musemeta.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sckott/musemeta/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Query for data from the CSTMC (Canadian Science &amp; Technology
Museum Corporation)</h1>
    <small class="dont-index">Source: <a href='https://github.com/sckott/musemeta/blob/master/R/cstmc.R'><code>R/cstmc.R</code></a></small>
    <div class="hidden name"><code>cstmc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Query for data from the CSTMC (Canadian Science &amp; Technology
Museum Corporation)</p>
    </div>

    <pre class="usage"><span class='fu'>cstmc_changes</span>(offset = <span class='fl'>0</span>, limit = <span class='fl'>31</span>, as = <span class='st'>"list"</span>, <span class='kw'>...</span>)

<span class='fu'>cstmc_datasets</span>(offset = <span class='fl'>0</span>, limit = <span class='fl'>31</span>, as = <span class='st'>"list"</span>, <span class='kw'>...</span>)

<span class='fu'>cstmc_group_list</span>(
  offset = <span class='fl'>0</span>,
  limit = <span class='fl'>31</span>,
  sort = <span class='kw'>NULL</span>,
  groups = <span class='kw'>NULL</span>,
  all_fields = <span class='fl'>FALSE</span>,
  as = <span class='st'>"list"</span>,
  <span class='kw'>...</span>
)

<span class='fu'>cstmc_group_show</span>(<span class='kw'>id</span>, include_datasets = <span class='fl'>TRUE</span>, as = <span class='st'>"list"</span>, <span class='kw'>...</span>)

<span class='fu'>cstmc_tag_list</span>(
  query = <span class='st'>"*:*"</span>,
  vocabulary_id = <span class='kw'>NULL</span>,
  all_fields = <span class='fl'>FALSE</span>,
  as = <span class='st'>"list"</span>,
  <span class='kw'>...</span>
)

<span class='fu'>cstmc_tag_show</span>(<span class='kw'>id</span>, as = <span class='st'>"list"</span>, <span class='kw'>...</span>)

<span class='fu'>cstmc_package_search</span>(
  q = <span class='st'>"*:*"</span>,
  fq = <span class='kw'>NULL</span>,
  sort = <span class='kw'>NULL</span>,
  rows = <span class='kw'>NULL</span>,
  start = <span class='kw'>NULL</span>,
  facet = <span class='fl'>FALSE</span>,
  facet.limit = <span class='kw'>NULL</span>,
  facet.field = <span class='kw'>NULL</span>,
  as = <span class='st'>"list"</span>,
  <span class='kw'>...</span>
)

<span class='fu'>cstmc_package_show</span>(<span class='kw'>id</span>, use_default_schema = <span class='fl'>FALSE</span>, as = <span class='st'>"list"</span>, <span class='kw'>...</span>)

<span class='fu'>cstmc_resource_search</span>(
  q = <span class='st'>"*:*"</span>,
  sort = <span class='kw'>NULL</span>,
  offset = <span class='kw'>NULL</span>,
  limit = <span class='kw'>NULL</span>,
  as = <span class='st'>"list"</span>,
  <span class='kw'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>offset</th>
      <td><p>Record to start at, default to beginning.</p></td>
    </tr>
    <tr>
      <th>limit</th>
      <td><p>Number of records to return.</p></td>
    </tr>
    <tr>
      <th>as</th>
      <td><p>(character) One of list (default), table, or json. Parsing with
table option uses <code><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>jsonlite::fromJSON(..., simplifyDataFrame = TRUE)</a></code>, which
attempts to parse data to data.frame's when possible, so the result can vary.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Curl args passed on to <code><a href='https://httr.r-lib.org/reference/POST.html'>httr::POST</a></code></p></td>
    </tr>
    <tr>
      <th>sort</th>
      <td><p>Field to sort on. You can specify ascending (e.g., score desc) or
descending (e.g., score asc), sort by two fields (e.g., score desc,
price asc), or sort by a function (e.g., <code>sum(x_f, y_f) desc</code>, which sorts
by the sum of <code>x_f</code> and <code>y_f</code> in a descending order).</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>(character) A list of names of the groups to return, if given
only groups whose names are in this list will be returned</p></td>
    </tr>
    <tr>
      <th>all_fields</th>
      <td><p>(logical) Return full tag or group dictionaries instead of
just names. Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>(character) The name or id of the tag</p></td>
    </tr>
    <tr>
      <th>include_datasets</th>
      <td><p>(logical) Include a list of the group's datasets.
Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>query</th>
      <td><p>(character) A tag name query to search for, if given only tags
whose names contain this string will be returned</p></td>
    </tr>
    <tr>
      <th>vocabulary_id</th>
      <td><p>(character) The id or name of a vocabulary, if give
only tags that belong to this vocabulary will be returned</p></td>
    </tr>
    <tr>
      <th>q</th>
      <td><p>Query terms, defaults to '<em>:</em>', or everything. It is a string of
the form <code>field:term</code> or a list of strings, each of the same form.  Within
each string, <code>field</code> is a field or extra field on the Resource domain
object. If <code>field</code> is hash, then an attempt is made to match the <code>term</code>
as a <em>prefix</em> of the Resource.hash field. If <code>field</code> is an extra field, then
an attempt is made to match against the extra fields stored against
the Resource.</p></td>
    </tr>
    <tr>
      <th>fq</th>
      <td><p>Filter query, this does not affect the search, only what gets
returned</p></td>
    </tr>
    <tr>
      <th>rows</th>
      <td><p>Number of records to return. Defaults to 10.</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>Record to start at, default to beginning.</p></td>
    </tr>
    <tr>
      <th>facet</th>
      <td><p>(logical) Whether to return facet results or not.
Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>facet.limit</th>
      <td><p>(numeric) This param indicates the maximum number of
constraint counts that should be returned for the facet fields. A negative
value means unlimited. Default: 100. Can be specified on a per field basis.</p></td>
    </tr>
    <tr>
      <th>facet.field</th>
      <td><p>(charcter) This param allows you to specify a field which
should be treated as a facet. It will iterate over each Term in the field
and generate a facet count using that Term as the constraint. This parameter
can be specified multiple times to indicate multiple facet fields. None of
the other params in this section will have any effect without specifying at
least one field name using this param.</p></td>
    </tr>
    <tr>
      <th>use_default_schema</th>
      <td><p>(logical) Use default package schema instead of a
custom schema defined with an IDatasetForm plugin. Default: <code>FALSE</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>http://data.techno-science.ca/</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Changes</span>
<span class='fu'>cstmc_changes</span>()
<span class='fu'>cstmc_changes</span>(as=<span class='st'>'json'</span>)
<span class='fu'>cstmc_changes</span>(as=<span class='st'>'table'</span>)

<span class='co'># List datasets</span>
<span class='fu'>cstmc_datasets</span>()

<span class='co'># List groups</span>
<span class='fu'>cstmc_group_list</span>()

<span class='co'># Show groups</span>
<span class='fu'>cstmc_group_show</span>(<span class='st'>'communications'</span>)

<span class='co'># List tags</span>
<span class='fu'>cstmc_tag_list</span>(<span class='st'>'aviation'</span>)

<span class='co'># Show tags</span>
<span class='fu'>cstmc_tag_show</span>(<span class='st'>'Aviation'</span>)

<span class='co'># Search for packages</span>
<span class='fu'>cstmc_package_search</span>(q = <span class='st'>'*:*'</span>)
<span class='fu'>cstmc_package_search</span>(q = <span class='st'>'*:*'</span>, rows = <span class='fl'>2</span>, as=<span class='st'>'json'</span>)
<span class='fu'>cstmc_package_search</span>(q = <span class='st'>'*:*'</span>, rows = <span class='fl'>2</span>, as=<span class='st'>'table'</span>)

<span class='fu'>cstmc_package_search</span>(q = <span class='st'>'*:*'</span>, sort = <span class='st'>'score asc'</span>)
<span class='fu'>cstmc_package_search</span>(q = <span class='st'>'*:*'</span>, fq = <span class='st'>'num_tags:[3 TO *]'</span>)<span class='op'>$</span><span class='kw'>count</span>

<span class='co'># Show packages</span>
<span class='fu'>cstmc_package_show</span>(<span class='st'>'34d60b13-1fd5-430e-b0ec-c8bc7f4841cf'</span>)
<span class='fu'>cstmc_package_show</span>(<span class='st'>'34d60b13-1fd5-430e-b0ec-c8bc7f4841cf'</span>, as=<span class='st'>'json'</span>)
<span class='fu'>cstmc_package_show</span>(<span class='st'>'34d60b13-1fd5-430e-b0ec-c8bc7f4841cf'</span>, as=<span class='st'>'table'</span>)
<span class='fu'>cstmc_package_show</span>(<span class='st'>'34d60b13-1fd5-430e-b0ec-c8bc7f4841cf'</span>, <span class='fl'>TRUE</span>)

<span class='co'># Search for resources</span>
<span class='fu'>cstmc_resource_search</span>(q = <span class='st'>'name:data'</span>)
<span class='fu'>cstmc_resource_search</span>(q = <span class='st'>'name:data'</span>, as=<span class='st'>'json'</span>)
<span class='fu'>cstmc_resource_search</span>(q = <span class='st'>'name:data'</span>, as=<span class='st'>'table'</span>)
<span class='fu'>cstmc_resource_search</span>(q = <span class='st'>'name:data'</span>, limit = <span class='fl'>2</span>, as=<span class='st'>'table'</span>)
}
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Scott Chamberlain.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


